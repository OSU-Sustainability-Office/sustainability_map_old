{"remainingRequest":"/Users/Brogan/Documents/sus/sustainability_map/node_modules/thread-loader/dist/cjs.js!/Users/Brogan/Documents/sus/sustainability_map/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Brogan/Documents/sus/sustainability_map/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Brogan/Documents/sus/sustainability_map/src/components/map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Brogan/Documents/sus/sustainability_map/src/components/map.vue","mtime":1553733021946},{"path":"/Users/Brogan/Documents/sus/sustainability_map/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Brogan/Documents/sus/sustainability_map/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Brogan/Documents/sus/sustainability_map/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Brogan/Documents/sus/sustainability_map/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Brogan/Documents/sus/sustainability_map/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Brogan/Documents/sus/sustainability_map/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport L from 'leaflet'\nimport { mapGetters } from 'vuex'\nimport { LMap, LTileLayer, LGeoJson } from 'vue2-leaflet'\n// import Cluster from '../assets/clustering.js'\n// import mapKey from '@/components/mapKey'\n\nexport default {\n  name: 'featured',\n  components: {\n    LMap,\n    LTileLayer,\n    LGeoJson\n  },\n  data () {\n    return {\n      zoom: 15.5,\n      center: L.latLng(44.565, -123.2785),\n      url: 'https://api.mapbox.com/styles/v1/jack-woods/cjmi2qpp13u4o2spgb66d07ci/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiamFjay13b29kcyIsImEiOiJjamg2aWpjMnYwMjF0Mnd0ZmFkaWs0YzN0In0.qyiDXCvvSj3O4XvPsSiBkA',\n      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      mapStyle: 'height: 100%; width: 100%;',\n      map: null,\n      clusterController: null,\n      queryString: /.*/,\n      jsonOptions: {\n        pointToLayer: (feature, latlng) => {\n          return L.circleMarker(latlng, {\n            color: feature.properties.color,\n            opacity: 0.75,\n            weight: 1,\n            fillColor: feature.properties.color,\n            fillOpacity: 0.45,\n            radius: 5\n          })\n        }\n      }\n    }\n  },\n  mounted () {\n  },\n  created () {\n    // this.clusterController = new Cluster()\n    // this.$nextTick(() => {\n    //   this.clusterController.addMap(this.$refs.map.mapObject)\n    // })\n    //\n    // this.$eventHub.$on('updateClusters', () => {\n    //   this.clusterController.updateClusterPoints()\n    // })\n  },\n  computed: {\n    ...mapGetters([\n      'queryFeatures',\n      'queryBuildings'\n    ])\n  },\n  methods: {\n    color: function (name) {\n      let color = '#FFFFFF'\n      switch (name) {\n        case 'Bottle Refill Station':\n          color = '#4A773C'\n          break\n        case 'Eco2Go Return':\n          color = '#00859B'\n          break\n        case 'Gluten-Free':\n          color = '#FFB500'\n          break\n        case 'Halal':\n          color = '#FFB500'\n          break\n        case 'Local':\n          color = '#006A8E'\n          break\n        case 'Make Cents':\n          color = '#AA9D2E'\n          break\n        case 'Vegan':\n          color = '#0D5257'\n          break\n        case 'Vegetarian':\n          color = '#D3832B'\n          break\n        case 'tour_path':\n          color = '#7A6855'\n          break\n        case 'tour_poi':\n          color = '#003B5C'\n          break\n        default:\n          color = '#003B5C'\n          break\n      }\n      return color\n    },\n    flipLine: function (arr) {\n      let r = []\n      arr.forEach(v => {\n        r.push([v[1], v[0]])\n      })\n      return r\n    }\n  }\n}\n",{"version":3,"sources":["map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"map.vue","sourceRoot":"src/components","sourcesContent":["<!--\n@Author: Brogan Miner <Brogan>\n@Date:   2019-03-26T12:15:39-07:00\n@Email:  brogan.miner@oregonstate.edu\n@Last modified by:   Brogan\n@Last modified time: 2019-03-27T17:30:21-07:00\n-->\n\n<template>\n    <l-map :style=\"mapStyle\" :zoom=\"zoom\" :center=\"center\" ref='map' v-loading=\"!this.queryFeatures(this.queryString).length > 0 || !this.queryBuildings(this.queryString).length > 0\">\n        <l-tile-layer :url=\"url\" :attribution=\"attribution\"></l-tile-layer>\n        <l-geo-json v-for='(item, index) of this.queryFeatures(this.queryString)' :options='jsonOptions' :key='index' :geojson='item' ref=\"pointLayers\"></l-geo-json>\n        <l-geo-json v-for='(item, index) of this.queryBuildings(this.queryString)' :key='index' :geojson='item' ref=\"buildingLayers\"></l-geo-json>\n    </l-map>\n</template>\n<script>\nimport L from 'leaflet'\nimport { mapGetters } from 'vuex'\nimport { LMap, LTileLayer, LGeoJson } from 'vue2-leaflet'\n// import Cluster from '../assets/clustering.js'\n// import mapKey from '@/components/mapKey'\n\nexport default {\n  name: 'featured',\n  components: {\n    LMap,\n    LTileLayer,\n    LGeoJson\n  },\n  data () {\n    return {\n      zoom: 15.5,\n      center: L.latLng(44.565, -123.2785),\n      url: 'https://api.mapbox.com/styles/v1/jack-woods/cjmi2qpp13u4o2spgb66d07ci/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiamFjay13b29kcyIsImEiOiJjamg2aWpjMnYwMjF0Mnd0ZmFkaWs0YzN0In0.qyiDXCvvSj3O4XvPsSiBkA',\n      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n      mapStyle: 'height: 100%; width: 100%;',\n      map: null,\n      clusterController: null,\n      queryString: /.*/,\n      jsonOptions: {\n        pointToLayer: (feature, latlng) => {\n          return L.circleMarker(latlng, {\n            color: feature.properties.color,\n            opacity: 0.75,\n            weight: 1,\n            fillColor: feature.properties.color,\n            fillOpacity: 0.45,\n            radius: 5\n          })\n        }\n      }\n    }\n  },\n  mounted () {\n  },\n  created () {\n    // this.clusterController = new Cluster()\n    // this.$nextTick(() => {\n    //   this.clusterController.addMap(this.$refs.map.mapObject)\n    // })\n    //\n    // this.$eventHub.$on('updateClusters', () => {\n    //   this.clusterController.updateClusterPoints()\n    // })\n  },\n  computed: {\n    ...mapGetters([\n      'queryFeatures',\n      'queryBuildings'\n    ])\n  },\n  methods: {\n    color: function (name) {\n      let color = '#FFFFFF'\n      switch (name) {\n        case 'Bottle Refill Station':\n          color = '#4A773C'\n          break\n        case 'Eco2Go Return':\n          color = '#00859B'\n          break\n        case 'Gluten-Free':\n          color = '#FFB500'\n          break\n        case 'Halal':\n          color = '#FFB500'\n          break\n        case 'Local':\n          color = '#006A8E'\n          break\n        case 'Make Cents':\n          color = '#AA9D2E'\n          break\n        case 'Vegan':\n          color = '#0D5257'\n          break\n        case 'Vegetarian':\n          color = '#D3832B'\n          break\n        case 'tour_path':\n          color = '#7A6855'\n          break\n        case 'tour_poi':\n          color = '#003B5C'\n          break\n        default:\n          color = '#003B5C'\n          break\n      }\n      return color\n    },\n    flipLine: function (arr) {\n      let r = []\n      arr.forEach(v => {\n        r.push([v[1], v[0]])\n      })\n      return r\n    }\n  }\n}\n</script>\n\n<style>\n@import \"../../node_modules/leaflet/dist/leaflet.css\";\n</style>\n\n<style scoped>\n.mapFrame {\n  height: 100%;\n  width: 100%;\n}\n</div>\n"]}]}